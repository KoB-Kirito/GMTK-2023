[gd_scene load_steps=34 format=3 uid="uid://dy8wsehbghl2l"]

[ext_resource type="PackedScene" uid="uid://bld2wffwvh62p" path="res://level/town/tilemap.tscn" id="1_sl53s"]
[ext_resource type="PackedScene" uid="uid://d3mklqtc7tjww" path="res://characters/player.tscn" id="2_llgaa"]
[ext_resource type="PackedScene" uid="uid://d0pwq4rvak3ri" path="res://npc/npc.tscn" id="2_yrs6g"]
[ext_resource type="Script" path="res://level/music.gd" id="4_0siu3"]
[ext_resource type="AudioStream" uid="uid://mt6vpm8560rn" path="res://assets/bgm/village_theme.ogg" id="5_qwac7"]
[ext_resource type="AudioStream" uid="uid://da0q1ml2a4ddg" path="res://assets/bgm/house_theme.ogg" id="6_pqk03"]
[ext_resource type="AudioStream" uid="uid://dnaw0ck2knteg" path="res://assets/bgm/woods_theme.ogg" id="7_4tutb"]
[ext_resource type="Texture2D" uid="uid://cmgshtawbbvfm" path="res://assets/characters/portraits/boy_2.png" id="8_t4hxv"]
[ext_resource type="Script" path="res://level/boy_end.gd" id="9_lu8s3"]
[ext_resource type="PackedScene" uid="uid://buvrn7c6gpqcv" path="res://level/objects/door_small.tscn" id="10_e3ht2"]

[sub_resource type="Curve2D" id="Curve2D_s6r0p"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 781, 735, 0, 0, 0, 0, 594, 735, 0, 0, 0, 0, 591, 484, 0, 0, 0, 0, 619, 422, 0, 0, 0, 0, 552, 415, 0, 0, 0, 0, 557, 377, 0, 0, 0, 0, 570, 439, 0, 0, 0, 0, 603, 473, 0, 0, 0, 0, 586, 525, 0, 0, 0, 0, 593, 741, 0, 0, 0, 0, 781, 731, 0, 0, 0, 0, 781, 735, 0, 0, 0, 0, 566, 619)
}
point_count = 13

[sub_resource type="Curve2D" id="Curve2D_41o3e"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 412, 585, 0, 0, 0, 0, 413, 619, 0, 0, 0, 0, 594, 621, 0, 0, 0, 0, 583, 523, 0, 0, 0, 0, 324, 523, 0, 0, 0, 0, 319, 479, 0, 0, 0, 0, 314, 526, 0, 0, 0, 0, 595, 530, 0, 0, 0, 0, 586, 623, 0, 0, 0, 0, 424, 627, 0, 0, 0, 0, 420, 592, 0, 0, 0, 0, 412, 585)
}
point_count = 12

[sub_resource type="Curve2D" id="Curve2D_ofekb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 763, 426, 0, 0, 0, 0, 768, 477, 0, 0, 0, 0, 598, 481, 0, 0, 0, 0, 597, 606, 0, 0, 0, 0, 831, 608, 0, 0, 0, 0, 834, 572, 0, 0, 0, 0, 839, 599, 0, 0, 0, 0, 731, 610, 0, 0, 0, 0, 624, 599, 0, 0, 0, 0, 589, 607, 0, 0, 0, 0, 581, 480, 0, 0, 0, 0, 772, 484, 0, 0, 0, 0, 772, 437, 0, 0, 0, 0, 763, 426)
}
point_count = 14

[sub_resource type="Curve2D" id="Curve2D_a4dkb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 941, 427, 0, 0, 0, 0, 944, 480, 0, 0, 0, 0, 457, 479, 0, 0, 0, 0, 450, 288, 0, 0, 0, 0, 783, 282, 0, 0, 0, 0, 784, 232, 0, 0, 0, 0, 794, 283, 0, 0, 0, 0, 442, 285, 0, 0, 0, 0, 446, 483, 0, 0, 0, 0, 944, 468, 0, 0, 0, 0, 951, 429, 0, 0, 0, 0, 941, 427)
}
point_count = 12

[sub_resource type="Curve2D" id="Curve2D_xlm87"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 574, 240, 0, 0, 0, 0, 571, 287, 0, 0, 0, 0, 1004, 291, 0, 0, 0, 0, 1004, 144, 0, 0, 0, 0, 1145, 142, 0, 0, 0, 0, 1009, 136, 0, 0, 0, 0, 1009, 280, 0, 0, 0, 0, 577, 273, 0, 0, 0, 0, 582, 242, 0, 0, 0, 0, 574, 240)
}
point_count = 10

[sub_resource type="Curve2D" id="Curve2D_wbql4"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 451, 451, 0, 0, 0, 0, 449, 280, 0, 0, 0, 0, 226, 288, 0, 0, 0, 0, 218, 320, 0, 0, 0, 0, 194, 317, 0, 0, 0, 0, 194, 296, 0, 0, 0, 0, 226, 320, 0, 0, 0, 0, 230, 289, 0, 0, 0, 0, 447, 286, 0, 0, 0, 0, 441, 448, 0, 0, 0, 0, 451, 451)
}
point_count = 11

[sub_resource type="Curve2D" id="Curve2D_sy6nv"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 122, 513, 0, 0, 0, 0, 125, 707, 0, 0, 0, 0, 135, 704, 0, 0, 0, 0, 134, 519, 0, 0, 0, 0, 122, 513)
}
point_count = 5

[sub_resource type="RectangleShape2D" id="RectangleShape2D_eg1n3"]
size = Vector2(600, 300)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c2a6f"]
size = Vector2(72, 54)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a4l35"]
size = Vector2(76, 46)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8p71p"]
size = Vector2(110, 48)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_enqvq"]
size = Vector2(94, 54)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4njgw"]
size = Vector2(74, 58)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vq7be"]
size = Vector2(72, 84)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rowyj"]
size = Vector2(88, 54)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u7dx0"]
size = Vector2(78, 44)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yxsrg"]
size = Vector2(104, 58)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oe2pf"]
size = Vector2(140, 76)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mxjfv"]
size = Vector2(180, 56)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q6hsl"]
size = Vector2(128, 92)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_y63ni"]
size = Vector2(58, 90)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nbcad"]
size = Vector2(74, 76)

[sub_resource type="CircleShape2D" id="CircleShape2D_0mu6d"]
radius = 20.0693

[node name="World" type="Node2D"]

[node name="Tilemap" parent="." instance=ExtResource("1_sl53s")]

[node name="Player" parent="." instance=ExtResource("2_llgaa")]
position = Vector2(97, 1114)

[node name="PathHolder" type="Node2D" parent="."]

[node name="Mann1Path" type="Path2D" parent="PathHolder"]
curve = SubResource("Curve2D_s6r0p")

[node name="PathFollow2D" type="PathFollow2D" parent="PathHolder/Mann1Path"]
position = Vector2(642.53, 735)
rotation = 3.14159
progress = 138.46

[node name="NPC" parent="PathHolder/Mann1Path/PathFollow2D" instance=ExtResource("2_yrs6g")]

[node name="MetzgerPath" type="Path2D" parent="PathHolder"]
curve = SubResource("Curve2D_41o3e")

[node name="PathFollow2D" type="PathFollow2D" parent="PathHolder/MetzgerPath"]
position = Vector2(412, 585)
rotation = 1.54139

[node name="AltFrauMannPath" type="Path2D" parent="PathHolder"]
curve = SubResource("Curve2D_ofekb")

[node name="PathFollow2D" type="PathFollow2D" parent="PathHolder/AltFrauMannPath"]
position = Vector2(763, 426)
rotation = 1.47307

[node name="WaisenPath" type="Path2D" parent="PathHolder"]
curve = SubResource("Curve2D_a4dkb")

[node name="PathFollow2D" type="PathFollow2D" parent="PathHolder/WaisenPath"]
position = Vector2(941, 427)
rotation = 1.51425

[node name="OmaKindPath" type="Path2D" parent="PathHolder"]
curve = SubResource("Curve2D_xlm87")

[node name="PathFollow2D" type="PathFollow2D" parent="PathHolder/OmaKindPath"]
position = Vector2(574, 240)
rotation = 1.63454

[node name="2FrauenKindPath" type="Path2D" parent="PathHolder"]
curve = SubResource("Curve2D_wbql4")

[node name="PathFollow2D" type="PathFollow2D" parent="PathHolder/2FrauenKindPath"]
position = Vector2(451, 451)
rotation = -1.58249

[node name="FamielieKindPath" type="Path2D" parent="PathHolder"]
curve = SubResource("Curve2D_sy6nv")

[node name="PathFollow2D" type="PathFollow2D" parent="PathHolder/FamielieKindPath"]
position = Vector2(122, 513)
rotation = 1.55533

[node name="Music" type="Node" parent="."]
process_mode = 3
script = ExtResource("4_0siu3")

[node name="bgm_village" type="AudioStreamPlayer" parent="Music"]
stream = ExtResource("5_qwac7")

[node name="bgm_house" type="AudioStreamPlayer" parent="Music"]
stream = ExtResource("6_pqk03")

[node name="bgm_forest" type="AudioStreamPlayer" parent="Music"]
stream = ExtResource("7_4tutb")

[node name="ForestArea" type="Area2D" parent="Music"]
position = Vector2(303, 1012)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Music/ForestArea"]
shape = SubResource("RectangleShape2D_eg1n3")

[node name="HouseArea" type="Area2D" parent="Music"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(457, 672)
shape = SubResource("RectangleShape2D_c2a6f")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(776, 677)
shape = SubResource("RectangleShape2D_a4l35")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(216, 627)
shape = SubResource("RectangleShape2D_8p71p")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(311, 448)
shape = SubResource("RectangleShape2D_enqvq")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(104, 329)
shape = SubResource("RectangleShape2D_4njgw")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(119, 455)
shape = SubResource("RectangleShape2D_vq7be")

[node name="CollisionShape2D7" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(273, 283)
shape = SubResource("RectangleShape2D_rowyj")

[node name="CollisionShape2D8" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(582, 210)
shape = SubResource("RectangleShape2D_u7dx0")

[node name="CollisionShape2D9" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(775, 204)
shape = SubResource("RectangleShape2D_yxsrg")

[node name="CollisionShape2D10" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(553, 355)
shape = SubResource("RectangleShape2D_oe2pf")

[node name="CollisionShape2D11" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(792, 543)
shape = SubResource("RectangleShape2D_mxjfv")

[node name="CollisionShape2D12" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(897, 379)
shape = SubResource("RectangleShape2D_q6hsl")

[node name="CollisionShape2D13" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(767, 378)
shape = SubResource("RectangleShape2D_y63ni")

[node name="CollisionShape2D14" type="CollisionShape2D" parent="Music/HouseArea"]
position = Vector2(456, 64)
shape = SubResource("RectangleShape2D_nbcad")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Music/HouseArea"]
polygon = PackedVector2Array(383, 550, 498, 550, 498, 593, 435, 593, 435, 586, 382, 587)

[node name="VisionTarget" type="Node2D" parent="." groups=["vision_target"]]
position = Vector2(424, 40)

[node name="Boy2" type="Sprite2D" parent="."]
position = Vector2(425, 33)
scale = Vector2(0.6, 0.6)
texture = ExtResource("8_t4hxv")
script = ExtResource("9_lu8s3")

[node name="Area2D" type="Area2D" parent="Boy2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boy2/Area2D"]
position = Vector2(0, 6.66666)
shape = SubResource("CircleShape2D_0mu6d")

[node name="Objects" type="Node2D" parent="."]

[node name="DoorSmall" parent="Objects" instance=ExtResource("10_e3ht2")]
position = Vector2(152, 1032)
player_can_open = true
auto_closes = true

[connection signal="body_entered" from="Music/ForestArea" to="Music" method="_on_forest_area_body_entered"]
[connection signal="body_exited" from="Music/ForestArea" to="Music" method="_on_forest_area_body_exited"]
[connection signal="body_entered" from="Music/HouseArea" to="Music" method="_on_house_area_body_entered"]
[connection signal="body_exited" from="Music/HouseArea" to="Music" method="_on_house_area_body_exited"]
[connection signal="body_entered" from="Boy2/Area2D" to="Boy2" method="_on_area_2d_body_entered"]
